(this["webpackJsonpform-order"]=this["webpackJsonpform-order"]||[]).push([[0],{17:function(e,t,r){},19:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r(1),s=r.n(n),a=r(10),l=r.n(a),i=(r(17),r(11)),o=r(4),d=r(3),u=r(2),j=r.n(u),m=r(6);var b=[{product_name:"Morning Dew Milk",units:[{name:"pak",price:2e4},{name:"pcs",price:1e4}]},{product_name:"Le Minerale 600ml",units:[{name:"karton",price:15e4},{name:"pak",price:5e4}]},{product_name:"Greenfields Full Cream Milk 1L",units:[{name:"karton",price:7e5},{name:"pak",price:35e4},{name:"pcs",price:18e3}]}],p=r.p+"static/media/icon_minus.3bd10a3b.svg";function h(e){var t,r,n,s,a=e.id,l=e.label,i=e.type,o=e.placeholder,d=e.register,u=e.value,j=e.name,m=e.error,b=e.index;return Object(c.jsxs)("div",{className:"form-group col",children:[Object(c.jsxs)("label",{htmlFor:a,children:[l,Object(c.jsx)("span",{className:"text-danger",children:"*"})]}),Object(c.jsx)("input",{id:a,className:"form-control",type:i,placeholder:o,name:j,ref:d,value:u}),(null===m||void 0===m?void 0:m.length)>0&&"required"===(null===(t=m[b])||void 0===t||null===(r=t[a])||void 0===r?void 0:r.type)&&Object(c.jsx)("span",{className:"text-danger",children:"Required"}),(null===m||void 0===m?void 0:m.length)>0&&"positive"===(null===(n=m[b])||void 0===n||null===(s=n[a])||void 0===s?void 0:s.type)&&Object(c.jsxs)("span",{className:"text-danger",children:[l," must be > 0"]})]})}var x=function(e){var t=e.control,r=e.register,n=e.errors,s=Object(d.c)({control:t,name:"name",defaultValue:""});return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("label",{htmlFor:"distribution",children:["Distribution Center",Object(c.jsx)("span",{className:"text-danger",children:"*"})]}),s?Object(c.jsxs)("select",{id:"distribution",className:"form-control",name:"distribution",defaultValue:"",ref:r({required:!0}),children:[Object(c.jsx)("option",{value:"",disabled:!0,children:"Distribution Center"}),Object(c.jsx)("option",{value:"tangerang",children:"DC Tangerang"}),Object(c.jsx)("option",{value:"cikarang",children:"DC Cikarang"})]}):Object(c.jsx)("p",{className:"p-3 shadow",children:"No data available"}),n.distribution&&Object(c.jsx)("span",{className:"text-danger",children:"Required"})]})},O=function(e){var t=e.control,r=e.register,n=e.errors,s=Object(d.c)({control:t,name:"name",defaultValue:""}),a=Object(d.c)({control:t,name:"distribution",defaultValue:""});return Object(c.jsx)(c.Fragment,{children:s&&a&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"form-row",children:[Object(c.jsxs)("div",{className:"form-group col-md-5",children:[Object(c.jsxs)("label",{htmlFor:"payment",children:["Payment Type",Object(c.jsx)("span",{className:"text-danger",children:"*"})]}),Object(c.jsxs)("select",{id:"payment",className:"form-control",name:"payment",defaultValue:"",ref:r({required:!0}),children:[Object(c.jsx)("option",{value:"",disabled:!0,children:"Payment Type"}),Object(c.jsx)("option",{value:"cash1",children:"Cash H+1"}),Object(c.jsx)("option",{value:"cash3",children:"Cash H+3"}),Object(c.jsx)("option",{value:"cash7",children:"Cash H+7"}),Object(c.jsx)("option",{value:"transfer1",children:"Transfer H+1"}),Object(c.jsx)("option",{value:"transfer3",children:"Transfer H+3"}),Object(c.jsx)("option",{value:"transfer7",children:"Transfer H+7"})]}),n.payment&&Object(c.jsx)("span",{className:"text-danger",children:"Required"})]}),Object(c.jsxs)("div",{className:"form-group col-md-5",children:[Object(c.jsxs)("label",{htmlFor:"expired_date",children:["Expired Date",Object(c.jsx)("span",{className:"text-danger",children:"*"})]}),Object(c.jsx)("input",{id:"expired",className:"form-control",type:"date",name:"expired_date",min:(new Date).toLocaleString("sv").slice(0,10),ref:r({required:!0}),defaultValue:"0000-00-00",placeholder:"Expired Date"}),n.expired_date&&Object(c.jsx)("span",{className:"text-danger",children:"Required"})]})]}),Object(c.jsx)("div",{className:"form-row",children:Object(c.jsxs)("div",{className:"form-group col-md-8",children:[Object(c.jsx)("label",{htmlFor:"notes",children:"Notes"}),Object(c.jsx)("textarea",{id:"notes",className:"form-control",rows:4,defaultValue:"",name:"notes",ref:r()})]})})]})})},v=function(e){var t=e.control,r=Object(d.c)({control:t,name:"products",defaultValue:[]});return Object(c.jsx)("h4",{children:Object(c.jsx)("strong",{children:r.length>0&&(null===r||void 0===r?void 0:r.reduce((function(e,t){var r=t.quantity*t.price;return r?e+r:e}),0))})})},f=function(e){var t,r,n,s,a,l,i,o,u,j,m=e.control,x=e.register,O=e.errors,v=e.index,f=e.remove,g=e.item,N=Object(d.c)({control:m,name:"products",defaultValue:[]}),y=(null===N||void 0===N?void 0:N.length)>0&&N[v],q=N.map((function(e){return e.unit})),V=null===(t=b.find((function(e){return e.product_name===y.product_name})))||void 0===t?void 0:t.units,w=(null===V||void 0===V||V.filter((function(e){return!q.includes(e.name)})),(null===V||void 0===V||null===(r=V.find((function(e){return e.name===y.unit})))||void 0===r?void 0:r.price)||0);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{type:"button",onClick:function(){return f(v)},className:"delete",children:Object(c.jsx)("img",{src:p,alt:"delete"})}),Object(c.jsxs)("div",{className:"form-row",children:[Object(c.jsxs)("div",{className:"form-group col-md-7",children:[Object(c.jsxs)("label",{htmlFor:"product",children:["Product",Object(c.jsx)("span",{className:"text-danger",children:"*"})]}),Object(c.jsxs)("select",{id:"product",className:"form-control",name:"products[".concat(v,"].product_name"),defaultValue:g.product_name,ref:x({required:!0}),children:[Object(c.jsx)("option",{value:"",disabled:!0,children:"Product Name"}),b.map((function(e){return Object(c.jsx)("option",{value:e.product_name,children:e.product_name},e.product_name)}))]}),O.product&&Object(c.jsx)("span",{className:"text-danger",children:"Required"})]}),Object(c.jsxs)("div",{className:"form-group col-md-3",children:[Object(c.jsxs)("label",{htmlFor:"unit",children:["Unit",Object(c.jsx)("span",{className:"text-danger",children:"*"})]}),Object(c.jsx)("select",{id:"unit",className:"form-control",name:"products[".concat(v,"].unit"),defaultValue:g.unit,ref:x({required:!0}),children:(null===y||void 0===y?void 0:y.product_name)?null===V||void 0===V?void 0:V.map((function(e){return Object(c.jsx)("option",{value:e.name,children:e.name},e.name)})):Object(c.jsx)("option",{value:"",disabled:!0,children:"No Data Available"})}),(null===(n=O.products)||void 0===n?void 0:n.length)>0&&(null===(s=O.products[v])||void 0===s?void 0:s.unit)&&Object(c.jsx)("span",{className:"text-danger",children:"Required"})]})]}),Object(c.jsxs)("div",{className:"form-row",children:[Object(c.jsxs)("div",{className:"form-group col",children:[Object(c.jsxs)("label",{htmlFor:"quantity",children:["Quantity",Object(c.jsx)("span",{className:"text-danger",children:"*"})]}),Object(c.jsx)("input",{id:"quantity",className:"form-control",type:"number",placeholder:"0",name:"products[".concat(v,"].quantity"),defaultValue:g.quantity,ref:x({required:!0,validate:{positive:function(e){return parseInt(e)>0}},pattern:/\d+/})}),(null===(a=O.products)||void 0===a?void 0:a.length)>0&&"required"===(null===(l=O.products[v])||void 0===l||null===(i=l.quantity)||void 0===i?void 0:i.type)&&Object(c.jsx)("span",{className:"text-danger",children:"Required"}),(null===(o=O.products)||void 0===o?void 0:o.length)>0&&"positive"===(null===(u=O.products[v])||void 0===u||null===(j=u.quantity)||void 0===j?void 0:j.type)&&Object(c.jsx)("span",{className:"text-danger",children:"Quantity must be > 0"})]}),Object(c.jsx)(h,{id:"price",label:"Price",type:"number",placeholder:"0",name:"products[".concat(v,"].price"),register:x({required:!0,validate:{positive:function(e){return parseInt(e)>0}}}),defaultValue:g.price,value:w,error:O.products,index:v}),Object(c.jsxs)("div",{className:"form-group col-5 text-right",children:[Object(c.jsx)("label",{htmlFor:"price",children:"Total Price"}),Object(c.jsx)("input",{id:"price",type:"number",className:"form-control text-right",placeholder:function(){if(N.length>0&&N[v]){var e=N[v]&&N[v].quantity,t=N[v]&&N[v].price;return e||t?e*t:0}}(),readOnly:!0})]})]}),Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-5 ml-auto",children:[Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{className:"row justify-content-between",children:[Object(c.jsx)("div",{className:"col",children:Object(c.jsx)("strong",{children:"Total Nett Price"})}),Object(c.jsx)("div",{className:"col text-right",children:Object(c.jsx)("strong",{children:function(){if(N.length>0&&N[v]){var e=N[v]&&N[v].quantity,t=N[v]&&N[v].price;return e||t?e*t:0}}()})})]})]})})]})},g=r.p+"static/media/icon_plus.0db24ee9.svg";function N(e){var t=e.control,r=e.register,n=(e.setValue,e.getValues,e.errors),s=Object(d.c)({control:t,name:"name",defaultValue:""}),a=Object(d.c)({control:t,name:"distribution",defaultValue:""}),l=Object(d.a)({control:t,name:"products"}),i=l.fields,o=l.append,u=l.remove;return Object(c.jsx)(c.Fragment,{children:s&&a&&Object(c.jsxs)(c.Fragment,{children:[i.map((function(e,s){return Object(c.jsx)("div",{className:"product-item",children:Object(c.jsx)(f,{control:t,register:r,errors:n,index:s,remove:u,item:e})},s)})),Object(c.jsx)("section",{children:Object(c.jsx)("button",{type:"button",className:"btn btn-warning text-white",onClick:function(){o({product_name:"",units:[{name:"",price:0},{name:"",price:0}]})},children:Object(c.jsxs)("strong",{children:["NEW ITEM ",Object(c.jsx)("img",{src:g,alt:"add",width:"20"})]})})})]})})}var y={name:"",distribution:"",products:[{product_name:"",units:[{name:"",price:0}]}]};function q(){var e,t=Object(n.useState)(null),r=Object(o.a)(t,2),s=r[0],a=r[1],l=Object(d.b)({defaultValues:y,mode:"onTouched"}),u=l.register,b=l.handleSubmit,p=l.formState,h=l.getValues,f=l.errors,g=l.control,q=(l.reset,l.setValue),V=function(e){var t=Object(n.useState)([]),r=Object(o.a)(t,2),c=r[0],s=r[1],a=Object(n.useState)(!0),l=Object(o.a)(a,2),i=l[0],d=l[1];return Object(n.useEffect)((function(){function t(){return(t=Object(m.a)(j.a.mark((function t(){var r,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return r=t.sent,t.next=5,r.json();case 5:c=t.sent,s(c),d(!1);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),{loading:i,data:c}}("http://dummy.restapiexample.com/api/v1/employees").data;return Object(c.jsxs)("form",{onSubmit:b((function(e){return a(e)})),children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)("h5",{children:Object(c.jsx)("strong",{children:"Detail"})})}),Object(c.jsxs)("div",{className:"col-9",children:[Object(c.jsxs)("div",{className:"form-row",children:[Object(c.jsxs)("div",{className:"form-group col-md-8",children:[Object(c.jsxs)("label",{htmlFor:"name",children:["Name",Object(c.jsx)("span",{className:"text-danger",children:"*"})]}),Object(c.jsxs)("select",{id:"name",className:"form-control",name:"name",placeholder:"Name",defaultValue:"",ref:u({required:!0}),children:[Object(c.jsx)("option",{value:"",disabled:!0,children:"Name"}),null===V||void 0===V||null===(e=V.data)||void 0===e?void 0:e.map((function(e){return Object(c.jsx)("option",{value:e.employee_name,children:e.employee_name},e.id)}))]}),f.name&&Object(c.jsx)("span",{className:"text-danger",children:"Required"})]}),Object(c.jsx)("div",{className:"form-group col-md-6",children:Object(c.jsx)(x,{control:g,errors:f,register:u})})]}),Object(c.jsx)(O,{control:g,errors:f,register:u})]})]}),Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)("h5",{children:Object(c.jsx)("strong",{children:"Products"})})}),Object(c.jsxs)("div",{className:"col-9",children:[Object(c.jsx)(N,Object(i.a)({},{control:g,register:u,getValues:h,defaultValues:y,setValue:q,errors:f})),Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-5 ml-auto",children:[Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{className:"row justify-content-between",children:[Object(c.jsx)("div",{className:"col",children:Object(c.jsx)("h4",{children:Object(c.jsx)("strong",{children:"Total"})})}),Object(c.jsx)("div",{className:"col text-right",children:Object(c.jsx)(v,{control:g})})]})]})})]})]}),Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{className:"text-right",children:[Object(c.jsx)("button",{type:"submit",className:"btn",children:"Submit"}),Object(c.jsx)("button",{type:"button",className:"btn",onClick:function(){return console.log("formState",p)},children:"CANCEL"}),Object(c.jsx)("button",{type:"submit",className:"btn ".concat(p.isValid?"btn-success":"btn-secondary"),disabled:!p.isValid,children:"CONFIRM"})]}),Object(c.jsx)("hr",{}),Object(c.jsx)("pre",{children:s&&JSON.stringify(s,null,2)})]})}var V=function(){return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h4",{className:"py-3",children:Object(c.jsx)("strong",{children:"Create Order"})}),Object(c.jsx)("div",{className:"card",children:Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)(q,{})})})]})},w=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,20)).then((function(t){var r=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,a=t.getTTFB;r(e),c(e),n(e),s(e),a(e)}))};l.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(V,{})}),document.getElementById("root")),w()}},[[19,1,2]]]);
//# sourceMappingURL=main.7f505b42.chunk.js.map